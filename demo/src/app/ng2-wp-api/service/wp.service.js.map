{"version":3,"file":"wp.service.js","sourceRoot":"","sources":["../inlined/service/wp.service.ts"],"names":[],"mappings":"AAAA;;;;GAIG;OAEI,EAAC,UAAU,EAAC,MAAM,eAAe;OAIjC,EAAC,MAAM,EAAC,MAAM,0BAA0B;OACxC,EAAC,eAAe,EAAC,MAAM,6BAA6B;OACpD,EAAC,aAAa,EAAC,MAAM,yBAAyB;OAC9C,EAAC,WAAW,EAAC,MAAM,+BAA+B;OAClD,EAAC,UAAU,EAAC,MAAM,yBAAyB;AAGlD;IAEE,mBAAoB,KAAa,EAAS,MAAqB;QAA3C,UAAK,GAAL,KAAK,CAAQ;QAAS,WAAM,GAAN,MAAM,CAAe;IAC/D,CAAC;IACD;;;;OAIG;IACH,4BAAQ,GAAR,UAAS,GAAW;QAApB,iBAQC;QAPC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,GAAG,UAAU,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,UAAC,GAAG;YAC1D,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACR,wBAAwB;gBACxB,KAAI,CAAC,MAAM,CAAC,OAAO,GAAG,GAAG,CAAC;gBAC1B,MAAM,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;YACpB,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IACD;;;;OAIG;IACH,wBAAI,GAAJ,UAAK,GAAW;QACd,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,UAAC,GAAG,IAAI,OAAA,GAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IACxD,CAAC;IACD;;;OAGG;IACH,8BAAU,GAAV;QACE,MAAM,CAAC,IAAI,eAAe,CAAC,IAAI,CAAC,KAAK,EAAE,YAAY,CAAC,CAAC;IACvD,CAAC;IACD;;;OAGG;IACH,yBAAK,GAAL;QACE,MAAM,CAAC,IAAI,eAAe,CAAC,IAAI,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;IAClD,CAAC;IACD;;;OAGG;IACH,wBAAI,GAAJ;QACE,MAAM,CAAC,IAAI,WAAW,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IAClD,CAAC;IACI,oBAAU,GAA0B;QAC3C,EAAE,IAAI,EAAE,UAAU,EAAE;KACnB,CAAC;IACF,kBAAkB;IACX,wBAAc,GAA6D;QAClF,EAAC,IAAI,EAAE,MAAM,GAAG;QAChB,EAAC,IAAI,EAAE,aAAa,GAAG;KACtB,CAAC;IACF,gBAAC;AAAD,CAAC,AAvDD,IAuDC","sourcesContent":["/** WpService: the entry service\n *\n *  This service is the gateway to Collection/Model/Direct links services\n *  by @MurhafSousli\n */\n\nimport {Injectable} from '@angular/core';\nimport {Observable} from \"rxjs/Observable\";\n\nimport {WpInterface} from \"./wp.interface\";\nimport {WpHttp} from \"../helpers/wp-http.class\";\nimport {EndpointService} from \"./endpoint/endpoint.service\";\nimport {ConfigService} from \"./config/config.service\";\nimport {AuthService} from \"./authentication/auth.service\";\nimport {WpEndpoint} from '../helpers/wp-endpoints';\n\n\nexport class WpService implements WpInterface {\n\n  constructor(private _http: WpHttp, public config: ConfigService) {\n  }\n  /**\n   * Discover WP API\n   * @param url\n   * @returns {any}\n   */\n  discover(url: string): Observable<any> {\n    return this._http.direct(url + WpEndpoint.discover).map((res)=> {\n      if (res) {\n        /** discovery success */\n        this.config.baseUrl = url;\n        return res.json();\n      }\n    });\n  }\n  /**\n   * Direct Link\n   * @param url\n   * @returns {any}\n   */\n  link(url: string): Observable<any> {\n    return this._http.direct(url).map((res)=> res.json());\n  }\n  /**\n   * Collection Service\n   * @returns {EndpointService}\n   */\n  collection(): EndpointService {\n    return new EndpointService(this._http, 'collection');\n  }\n  /**\n   * Model Service\n   * @returns {EndpointService}\n   */\n  model(): EndpointService {\n    return new EndpointService(this._http, 'model');\n  }\n  /**\n   * Authenticate Service\n   * @returns {AuthService}\n   */\n  auth(): AuthService{\n    return new AuthService(this._http, this.config);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: ({type: any, decorators?: DecoratorInvocation[]}|null)[] = [\n{type: WpHttp, },\n{type: ConfigService, },\n];\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}