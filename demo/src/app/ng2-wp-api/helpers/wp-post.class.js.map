{"version":3,"file":"wp-post.class.js","sourceRoot":"","sources":["../inlined/helpers/wp-post.class.ts"],"names":[],"mappings":"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","sourcesContent":["import {WpUser} from \"./wp-user.interface\";\n\nexport class WpPost {\n\n  constructor(public post) {\n  }\n\n  id = ():string=> {\n    if (this.post.id) return this.post.id;\n  };\n\n  title = ():string=> {\n    if (this.post.title) return this.post.title.rendered;\n  };\n\n  content = ():string=> {\n    if (this.post.content) return this.post.content.rendered;\n  };\n\n  excerpt = ():string => {\n    /** filter excerpt from the links */\n    if (this.post.excerpt) return (<string>this.post.excerpt.rendered).replace(/<a\\b[^>]*>(.*?)<\\/a>/i, \"\");\n  };\n\n  date = ():string => {\n    if (this.post.date) return this.post.date;\n  };\n\n  type = (): string =>{\n    if (this.post.type) return this.post.type;\n  };\n\n  categories = ():any=> {\n    if (this.post._embedded && this.post._embedded['wp:term']) {\n      return this.post._embedded['wp:term'][0];\n    }\n  };\n\n  tags = ():any => {\n    if (this.post._embedded && this.post._embedded['wp:term'])\n      return this.post._embedded['wp:term'][1];\n  };\n\n  author = ():WpUser => {\n    if (this.post._embedded)  return <WpUser>this.post._embedded.author;\n  };\n\n  /** featuredMedia(): check if has featured image, return false | number */\n  featuredMedia = ():boolean | number => {\n    if (this.post.featured_media)  return +this.post.featured_media;\n  };\n\n  /**\n   * get post featured image url\n   * @params {string} size -\n   */\n  featuredImageUrl = (size:string):string => {\n    if (this.featuredMedia() && this.post._embedded) {\n\n      var featuredImage = this.post._embedded['wp:featuredmedia'][0];\n      if (featuredImage) {\n        if (featuredImage.media_details.sizes[size]) {\n          return featuredImage.media_details.sizes[size].source_url;\n        }\n        else {\n          /** if the desired size was not found, return the full size */\n          return featuredImage.media_details.sizes[\"full\"].source_url;\n        }\n      }\n    }\n  }\n\n}\n\ninterface thumbnail {\n  file:string;\n  height:string;\n  width:string;\n  mime_type:string;\n  source_url:string;\n}\n\n\ninterface PostObject {\n  id:string;\n  slug:string;\n  name:string;\n  tags:any;\n  categories:any;\n  date:string;\n  modified:string;\n  type:string;\n  featured_media:number;\n  comment_status:boolean;\n  ping_status:boolean;\n  sticky:boolean;\n  format:string;\n  title:any;\n  content:any;\n  excerpt:any;\n  author:any;\n  _embedded:any;\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}